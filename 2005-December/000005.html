<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Torapplet-svn] r4 - in trunk: . po src
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/torapplet-svn/2005-December/index.html" >
   <LINK REL="made" HREF="mailto:torapplet-svn%40lists.berlios.de?Subject=Re%3A%20%5BTorapplet-svn%5D%20r4%20-%20in%20trunk%3A%20.%20po%20src&In-Reply-To=%3C200512302025.jBUKP0td022562%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000004.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Torapplet-svn] r4 - in trunk: . po src</H1>
    <B>bluviolin at BerliOS</B> 
    <A HREF="mailto:torapplet-svn%40lists.berlios.de?Subject=Re%3A%20%5BTorapplet-svn%5D%20r4%20-%20in%20trunk%3A%20.%20po%20src&In-Reply-To=%3C200512302025.jBUKP0td022562%40sheep.berlios.de%3E"
       TITLE="[Torapplet-svn] r4 - in trunk: . po src">bluviolin at berlios.de
       </A><BR>
    <I>Fri Dec 30 21:25:00 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000004.html">[Torapplet-svn] r3 - in trunk: . po src
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5">[ date ]</a>
              <a href="thread.html#5">[ thread ]</a>
              <a href="subject.html#5">[ subject ]</a>
              <a href="author.html#5">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: bluviolin
Date: 2005-12-30 21:24:58 +0100 (Fri, 30 Dec 2005)
New Revision: 4

Modified:
   trunk/ChangeLog
   trunk/NEWS
   trunk/configure
   trunk/configure.ac
   trunk/po/it.gmo
   trunk/po/it.po
   trunk/po/torapplet0.pot
   trunk/src/torapplet0.glade
   trunk/src/torapplet0.py.in
Log:
Log messages display in a different window

Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2005-12-27 21:13:09 UTC (rev 3)
+++ trunk/ChangeLog	2005-12-30 20:24:58 UTC (rev 4)
@@ -1,3 +1,24 @@
+2005-12-30 Version 0.0.5-svn
+	   Fabrizio Tarizzo &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/torapplet-svn">software at fabriziotarizz.org</A>&gt;
+
+	* Log messages in a different window (the properties dialog
+	  was too small).
+	    o configure.ac (new version number)
+	    o src/torapplet0.glade (new dialog)
+	    o src/torapplet0.glade.c (new labels)
+	    o src/torapplet0.py.in (new dialog management, added datetime
+	      column)
+	    o po/torapplet0.pot (New labels translations)
+	    o po/it.po (New labels translated)
+	    o po/it.gmo (New labels translated)
+	    
+2005-12-29 Version 0.0.4-svn
+	   Fabrizio Tarizzo &lt;software.fabriziotarizzo.org&gt;
+
+	* src/torapplet0.py.in: Log messages in time order (more recent
+	  first), error level displayed as icon instead of text, smaller
+	  font.
+
 2005-12-27 Version 0.0.4-svn
 	   Fabrizio Tarizzo &lt;software.fabriziotarizzo.org&gt;
 

Modified: trunk/NEWS
===================================================================
--- trunk/NEWS	2005-12-27 21:13:09 UTC (rev 3)
+++ trunk/NEWS	2005-12-30 20:24:58 UTC (rev 4)
@@ -1,2 +1,3 @@
+2005-12-30 - Version 0.0.5-svn - Log message in different window
 2005-12-27 - Version 0.0.4-svn - Added log message display
 2005-12-24 - Version 0.0.3-svn - First SVN import

Modified: trunk/configure
===================================================================
--- trunk/configure	2005-12-27 21:13:09 UTC (rev 3)
+++ trunk/configure	2005-12-30 20:24:58 UTC (rev 4)
@@ -1,6 +1,6 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.59 for torapplet0 0.0.4-svn.
+# Generated by GNU Autoconf 2.59 for torapplet0 0.0.5-svn.
 #
 # Report bugs to &lt;<A HREF="https://developer.berlios.de/bugs/?group_id=5564">https://developer.berlios.de/bugs/?group_id=5564</A>&gt;.
 #
@@ -269,8 +269,8 @@
 # Identity of this package.
 PACKAGE_NAME='torapplet0'
 PACKAGE_TARNAME='torapplet0'
-PACKAGE_VERSION='0.0.4-svn'
-PACKAGE_STRING='torapplet0 0.0.4-svn'
+PACKAGE_VERSION='0.0.5-svn'
+PACKAGE_STRING='torapplet0 0.0.5-svn'
 PACKAGE_BUGREPORT='<A HREF="https://developer.berlios.de/bugs/?group_id=5564">https://developer.berlios.de/bugs/?group_id=5564</A>'
 
 ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar initdscript INITDSCRIPT TOR_RESOLVE TORIFY GKSUDO PYTHON PYTHON_VERSION PYTHON_PREFIX PYTHON_EXEC_PREFIX PYTHON_PLATFORM pythondir pkgpythondir pyexecdir pkgpyexecdir DATADIR PYTHONDIR MKINSTALLDIRS USE_NLS MSGFMT GMSGFMT XGETTEXT MSGMERGE CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE build buil!
 d_cpu build_vendor build_os host host_cpu host_vendor host_os INTL_MACOSX_LIBS LIBICONV LTLIBICONV INTLLIBS LIBINTL LTLIBINTL POSUB LIBOBJS LTLIBOBJS'
@@ -738,7 +738,7 @@
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat &lt;&lt;_ACEOF
-\`configure' configures torapplet0 0.0.4-svn to adapt to many kinds of systems.
+\`configure' configures torapplet0 0.0.5-svn to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
@@ -804,7 +804,7 @@
 
 if test -n &quot;$ac_init_help&quot;; then
   case $ac_init_help in
-     short | recursive ) echo &quot;Configuration of torapplet0 0.0.4-svn:&quot;;;
+     short | recursive ) echo &quot;Configuration of torapplet0 0.0.5-svn:&quot;;;
    esac
   cat &lt;&lt;\_ACEOF
 
@@ -935,7 +935,7 @@
 test -n &quot;$ac_init_help&quot; &amp;&amp; exit 0
 if $ac_init_version; then
   cat &lt;&lt;\_ACEOF
-torapplet0 configure 0.0.4-svn
+torapplet0 configure 0.0.5-svn
 generated by GNU Autoconf 2.59
 
 Copyright (C) 2003 Free Software Foundation, Inc.
@@ -949,7 +949,7 @@
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
-It was created by torapplet0 $as_me 0.0.4-svn, which was
+It was created by torapplet0 $as_me 0.0.5-svn, which was
 generated by GNU Autoconf 2.59.  Invocation command line was
 
   $ $0 $@
@@ -1593,7 +1593,7 @@
 
 # Define the identity of the package.
  PACKAGE='torapplet0'
- VERSION='0.0.4-svn'
+ VERSION='0.0.5-svn'
 
 
 cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
@@ -5639,7 +5639,7 @@
 } &gt;&amp;5
 cat &gt;&amp;5 &lt;&lt;_CSEOF
 
-This file was extended by torapplet0 $as_me 0.0.4-svn, which was
+This file was extended by torapplet0 $as_me 0.0.5-svn, which was
 generated by GNU Autoconf 2.59.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
@@ -5697,7 +5697,7 @@
 
 cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF
 ac_cs_version=&quot;\\
-torapplet0 config.status 0.0.4-svn
+torapplet0 config.status 0.0.5-svn
 configured by $0, generated by GNU Autoconf 2.59,
   with options \\&quot;`echo &quot;$ac_configure_args&quot; | sed 's/[\\&quot;&quot;\`\$]/\\\\&amp;/g'`\\&quot;
 

Modified: trunk/configure.ac
===================================================================
--- trunk/configure.ac	2005-12-27 21:13:09 UTC (rev 3)
+++ trunk/configure.ac	2005-12-30 20:24:58 UTC (rev 4)
@@ -1,4 +1,4 @@
-AC_INIT(torapplet0, 0.0.4-svn, <A HREF="https://developer.berlios.de/bugs/?group_id=5564">https://developer.berlios.de/bugs/?group_id=5564</A>)
+AC_INIT(torapplet0, 0.0.5-svn, <A HREF="https://developer.berlios.de/bugs/?group_id=5564">https://developer.berlios.de/bugs/?group_id=5564</A>)
 
 AM_INIT_AUTOMAKE([dist-bzip2 gnu])
 

Modified: trunk/po/it.gmo
===================================================================
(Binary files differ)

Modified: trunk/po/it.po
===================================================================
--- trunk/po/it.po	2005-12-27 21:13:09 UTC (rev 3)
+++ trunk/po/it.po	2005-12-30 20:24:58 UTC (rev 4)
@@ -5,9 +5,9 @@
 #
 msgid &quot;&quot;
 msgstr &quot;&quot;
-&quot;Project-Id-Version: TorApplet0 0.0.4-svn\n&quot;
+&quot;Project-Id-Version: TorApplet0 0.0.5-svn\n&quot;
 &quot;Report-Msgid-Bugs-To: <A HREF="https://developer.berlios.de/bugs/?group_id=5564\n">https://developer.berlios.de/bugs/?group_id=5564\n</A>&quot;
-&quot;POT-Creation-Date: 2005-12-27 21:53+0100\n&quot;
+&quot;POT-Creation-Date: 2005-12-30 21:12+0100\n&quot;
 &quot;PO-Revision-Date: 2005-12-13 19:08+0100\n&quot;
 &quot;Last-Translator: Fabrizio Tarizzo &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/torapplet-svn">software at fabriziotarizzo.org</A>&gt;\n&quot;
 &quot;Language-Team: Italian &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/torapplet-svn">it at li.org</A>&gt;\n&quot;
@@ -15,39 +15,43 @@
 &quot;Content-Type: text/plain; charset=UTF-8\n&quot;
 &quot;Content-Transfer-Encoding: 8bit\n&quot;
 
-#: src/torapplet0.py.in:78
+#: src/torapplet0.py.in:79
 msgid &quot;Monitoring the Tor daemon activity.&quot;
 msgstr &quot;Monitoraggio dell'attivit&#224; del demone Tor.&quot;
 
-#: src/torapplet0.py.in:85
+#: src/torapplet0.py.in:86
 msgid &quot;Started&quot;
 msgstr &quot;Attivo&quot;
 
-#: src/torapplet0.py.in:85 src/torapplet0.glade.c:9
+#: src/torapplet0.py.in:86 src/torapplet0.glade.c:9
 msgid &quot;Stopped&quot;
 msgstr &quot;Inattivo&quot;
 
-#: src/torapplet0.py.in:112
+#: src/torapplet0.py.in:115
 msgid &quot;_Start Tor&quot;
 msgstr &quot;_Avvia Tor&quot;
 
-#: src/torapplet0.py.in:113
+#: src/torapplet0.py.in:116
 msgid &quot;S_top Tor&quot;
 msgstr &quot;_Ferma Tor&quot;
 
-#: src/torapplet0.py.in:114
+#: src/torapplet0.py.in:117
 msgid &quot;_Restart Tor&quot;
 msgstr &quot;_Riavvia Tor&quot;
 
-#: src/torapplet0.py.in:115
+#: src/torapplet0.py.in:118 src/torapplet0.glade.c:41
+msgid &quot;Log messages&quot;
+msgstr &quot;Messaggi&quot;
+
+#: src/torapplet0.py.in:119
 msgid &quot;_Properties&quot;
 msgstr &quot;_Propriet&#224;&quot;
 
-#: src/torapplet0.py.in:116
+#: src/torapplet0.py.in:120
 msgid &quot;_About...&quot;
 msgstr &quot;_Informazioni&quot;
 
-#: src/torapplet0.py.in:135
+#: src/torapplet0.py.in:140
 msgid &quot;&quot;
 &quot;Tor is Stopped\n&quot;
 &quot;Tor version: n/a&quot;
@@ -55,19 +59,31 @@
 &quot;Tor &#232; Inattivo\n&quot;
 &quot;Versione di Tor: n/a&quot;
 
-#: src/torapplet0.py.in:215
+#: src/torapplet0.py.in:192
+msgid &quot;Level&quot;
+msgstr &quot;Livello&quot;
+
+#: src/torapplet0.py.in:193
+msgid &quot;Message&quot;
+msgstr &quot;Messaggio&quot;
+
+#: src/torapplet0.py.in:194
+msgid &quot;Time&quot;
+msgstr &quot;Ora&quot;
+
+#: src/torapplet0.py.in:231
 msgid &quot;Please enter your password&quot;
 msgstr &quot;Inserisci la tua password&quot;
 
-#: src/torapplet0.py.in:216
+#: src/torapplet0.py.in:232
 msgid &quot;Password&quot;
 msgstr &quot;Password&quot;
 
-#: src/torapplet0.py.in:237
+#: src/torapplet0.py.in:253
 msgid &quot;days&quot;
 msgstr &quot;giorni&quot;
 
-#: src/torapplet0.py.in:277
+#: src/torapplet0.py.in:293
 #, python-format
 msgid &quot;&quot;
 &quot;Tor is %s %s\n&quot;
@@ -82,11 +98,11 @@
 &quot;Avvisi: %d - Errori: %d\n&quot;
 &quot;Connessioni OR attive: %d&quot;
 
-#: src/torapplet0.py.in:296 src/torapplet0.glade.c:11
+#: src/torapplet0.py.in:312 src/torapplet0.glade.c:11
 msgid &quot;n/a&quot;
 msgstr &quot;n/a&quot;
 
-#: src/torapplet0.py.in:363
+#: src/torapplet0.py.in:387
 msgid &quot;translator_credits&quot;
 msgstr &quot;Fabrizio Tarizzo&quot;
 
@@ -112,7 +128,7 @@
 #: src/torapplet0.glade.c:32 src/torapplet0.glade.c:33
 #: src/torapplet0.glade.c:34
 msgid &quot;0&quot;
-msgstr &quot;&quot;
+msgstr &quot;0&quot;
 
 #: src/torapplet0.glade.c:14
 msgid &quot;Warnings: &quot;
@@ -182,7 +198,3 @@
 #: src/torapplet0.glade.c:40
 msgid &quot;Tor Resolve&quot;
 msgstr &quot;&quot;
-
-#: src/torapplet0.glade.c:41
-msgid &quot;Log messages&quot;
-msgstr &quot;Messaggi&quot;

Modified: trunk/po/torapplet0.pot
===================================================================
--- trunk/po/torapplet0.pot	2005-12-27 21:13:09 UTC (rev 3)
+++ trunk/po/torapplet0.pot	2005-12-30 20:24:58 UTC (rev 4)
@@ -8,7 +8,7 @@
 msgstr &quot;&quot;
 &quot;Project-Id-Version: PACKAGE VERSION\n&quot;
 &quot;Report-Msgid-Bugs-To: <A HREF="https://developer.berlios.de/bugs/?group_id=5564\n">https://developer.berlios.de/bugs/?group_id=5564\n</A>&quot;
-&quot;POT-Creation-Date: 2005-12-27 21:53+0100\n&quot;
+&quot;POT-Creation-Date: 2005-12-30 21:12+0100\n&quot;
 &quot;PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n&quot;
 &quot;Last-Translator: FULL NAME &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/torapplet-svn">EMAIL at ADDRESS</A>&gt;\n&quot;
 &quot;Language-Team: LANGUAGE &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/torapplet-svn">LL at li.org</A>&gt;\n&quot;
@@ -16,57 +16,73 @@
 &quot;Content-Type: text/plain; charset=CHARSET\n&quot;
 &quot;Content-Transfer-Encoding: 8bit\n&quot;
 
-#: src/torapplet0.py.in:78
+#: src/torapplet0.py.in:79
 msgid &quot;Monitoring the Tor daemon activity.&quot;
 msgstr &quot;&quot;
 
-#: src/torapplet0.py.in:85
+#: src/torapplet0.py.in:86
 msgid &quot;Started&quot;
 msgstr &quot;&quot;
 
-#: src/torapplet0.py.in:85 src/torapplet0.glade.c:9
+#: src/torapplet0.py.in:86 src/torapplet0.glade.c:9
 msgid &quot;Stopped&quot;
 msgstr &quot;&quot;
 
-#: src/torapplet0.py.in:112
+#: src/torapplet0.py.in:115
 msgid &quot;_Start Tor&quot;
 msgstr &quot;&quot;
 
-#: src/torapplet0.py.in:113
+#: src/torapplet0.py.in:116
 msgid &quot;S_top Tor&quot;
 msgstr &quot;&quot;
 
-#: src/torapplet0.py.in:114
+#: src/torapplet0.py.in:117
 msgid &quot;_Restart Tor&quot;
 msgstr &quot;&quot;
 
-#: src/torapplet0.py.in:115
+#: src/torapplet0.py.in:118 src/torapplet0.glade.c:41
+msgid &quot;Log messages&quot;
+msgstr &quot;&quot;
+
+#: src/torapplet0.py.in:119
 msgid &quot;_Properties&quot;
 msgstr &quot;&quot;
 
-#: src/torapplet0.py.in:116
+#: src/torapplet0.py.in:120
 msgid &quot;_About...&quot;
 msgstr &quot;&quot;
 
-#: src/torapplet0.py.in:135
+#: src/torapplet0.py.in:140
 msgid &quot;&quot;
 &quot;Tor is Stopped\n&quot;
 &quot;Tor version: n/a&quot;
 msgstr &quot;&quot;
 
-#: src/torapplet0.py.in:215
+#: src/torapplet0.py.in:192
+msgid &quot;Level&quot;
+msgstr &quot;&quot;
+
+#: src/torapplet0.py.in:193
+msgid &quot;Message&quot;
+msgstr &quot;&quot;
+
+#: src/torapplet0.py.in:194
+msgid &quot;Time&quot;
+msgstr &quot;&quot;
+
+#: src/torapplet0.py.in:231
 msgid &quot;Please enter your password&quot;
 msgstr &quot;&quot;
 
-#: src/torapplet0.py.in:216
+#: src/torapplet0.py.in:232
 msgid &quot;Password&quot;
 msgstr &quot;&quot;
 
-#: src/torapplet0.py.in:237
+#: src/torapplet0.py.in:253
 msgid &quot;days&quot;
 msgstr &quot;&quot;
 
-#: src/torapplet0.py.in:277
+#: src/torapplet0.py.in:293
 #, python-format
 msgid &quot;&quot;
 &quot;Tor is %s %s\n&quot;
@@ -76,11 +92,11 @@
 &quot;Active OR Connections: %d&quot;
 msgstr &quot;&quot;
 
-#: src/torapplet0.py.in:296 src/torapplet0.glade.c:11
+#: src/torapplet0.py.in:312 src/torapplet0.glade.c:11
 msgid &quot;n/a&quot;
 msgstr &quot;&quot;
 
-#: src/torapplet0.py.in:363
+#: src/torapplet0.py.in:387
 msgid &quot;translator_credits&quot;
 msgstr &quot;&quot;
 
@@ -176,7 +192,3 @@
 #: src/torapplet0.glade.c:40
 msgid &quot;Tor Resolve&quot;
 msgstr &quot;&quot;
-
-#: src/torapplet0.glade.c:41
-msgid &quot;Log messages&quot;
-msgstr &quot;&quot;

Modified: trunk/src/torapplet0.glade
===================================================================
--- trunk/src/torapplet0.glade	2005-12-27 21:13:09 UTC (rev 3)
+++ trunk/src/torapplet0.glade	2005-12-30 20:24:58 UTC (rev 4)
@@ -19,7 +19,7 @@
   &lt;property name=&quot;focus_on_map&quot;&gt;True&lt;/property&gt;
   &lt;property name=&quot;urgency_hint&quot;&gt;False&lt;/property&gt;
   &lt;property name=&quot;has_separator&quot;&gt;True&lt;/property&gt;
-  &lt;signal name=&quot;delete_event&quot; handler=&quot;on_TorPropertiesDialog_delete_event&quot; last_modification_time=&quot;Sun, 04 Dec 2005 17:49:54 GMT&quot;/&gt;
+  &lt;signal name=&quot;delete_event&quot; handler=&quot;on_TorPropertiesDialog_delete_event&quot; last_modification_time=&quot;Fri, 30 Dec 2005 19:30:35 GMT&quot;/&gt;
 
   &lt;child internal-child=&quot;vbox&quot;&gt;
     &lt;widget class=&quot;GtkVBox&quot; id=&quot;dialog-vbox1&quot;&gt;
@@ -1299,96 +1299,104 @@
 	      &lt;property name=&quot;type&quot;&gt;tab&lt;/property&gt;
 	    &lt;/packing&gt;
 	  &lt;/child&gt;
+	&lt;/widget&gt;
+	&lt;packing&gt;
+	  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+	  &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
+	  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
+	&lt;/packing&gt;
+      &lt;/child&gt;
+    &lt;/widget&gt;
+  &lt;/child&gt;
+&lt;/widget&gt;
 
-	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox3&quot;&gt;
-	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
+&lt;widget class=&quot;GtkDialog&quot; id=&quot;LogMessagesDialog&quot;&gt;
+  &lt;property name=&quot;width_request&quot;&gt;620&lt;/property&gt;
+  &lt;property name=&quot;height_request&quot;&gt;400&lt;/property&gt;
+  &lt;property name=&quot;title&quot; translatable=&quot;yes&quot;&gt;Log messages&lt;/property&gt;
+  &lt;property name=&quot;type&quot;&gt;GTK_WINDOW_TOPLEVEL&lt;/property&gt;
+  &lt;property name=&quot;window_position&quot;&gt;GTK_WIN_POS_NONE&lt;/property&gt;
+  &lt;property name=&quot;modal&quot;&gt;False&lt;/property&gt;
+  &lt;property name=&quot;resizable&quot;&gt;True&lt;/property&gt;
+  &lt;property name=&quot;destroy_with_parent&quot;&gt;False&lt;/property&gt;
+  &lt;property name=&quot;decorated&quot;&gt;True&lt;/property&gt;
+  &lt;property name=&quot;skip_taskbar_hint&quot;&gt;False&lt;/property&gt;
+  &lt;property name=&quot;skip_pager_hint&quot;&gt;False&lt;/property&gt;
+  &lt;property name=&quot;type_hint&quot;&gt;GDK_WINDOW_TYPE_HINT_DIALOG&lt;/property&gt;
+  &lt;property name=&quot;gravity&quot;&gt;GDK_GRAVITY_NORTH_WEST&lt;/property&gt;
+  &lt;property name=&quot;focus_on_map&quot;&gt;True&lt;/property&gt;
+  &lt;property name=&quot;urgency_hint&quot;&gt;False&lt;/property&gt;
+  &lt;property name=&quot;has_separator&quot;&gt;True&lt;/property&gt;
+  &lt;signal name=&quot;delete_event&quot; handler=&quot;on_LogMessagesDialog_delete_event&quot; last_modification_time=&quot;Fri, 30 Dec 2005 19:39:02 GMT&quot;/&gt;
 
-	      &lt;child&gt;
-		&lt;widget class=&quot;GtkScrolledWindow&quot; id=&quot;scrolledwindow1&quot;&gt;
-		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;hscrollbar_policy&quot;&gt;GTK_POLICY_ALWAYS&lt;/property&gt;
-		  &lt;property name=&quot;vscrollbar_policy&quot;&gt;GTK_POLICY_ALWAYS&lt;/property&gt;
-		  &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_IN&lt;/property&gt;
-		  &lt;property name=&quot;window_placement&quot;&gt;GTK_CORNER_TOP_LEFT&lt;/property&gt;
+  &lt;child internal-child=&quot;vbox&quot;&gt;
+    &lt;widget class=&quot;GtkVBox&quot; id=&quot;dialog-vbox2&quot;&gt;
+      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
+      &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
 
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkTreeView&quot; id=&quot;treeviewLogMessages&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;headers_visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;rules_hint&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;reorderable&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;enable_search&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;fixed_height_mode&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;hover_selection&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;hover_expand&quot;&gt;False&lt;/property&gt;
-		    &lt;/widget&gt;
-		  &lt;/child&gt;
-		&lt;/widget&gt;
-		&lt;packing&gt;
-		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-		&lt;/packing&gt;
-	      &lt;/child&gt;
+      &lt;child internal-child=&quot;action_area&quot;&gt;
+	&lt;widget class=&quot;GtkHButtonBox&quot; id=&quot;dialog-action_area2&quot;&gt;
+	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	  &lt;property name=&quot;layout_style&quot;&gt;GTK_BUTTONBOX_END&lt;/property&gt;
 
-	      &lt;child&gt;
-		&lt;widget class=&quot;GtkHButtonBox&quot; id=&quot;hbuttonbox1&quot;&gt;
-		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;layout_style&quot;&gt;GTK_BUTTONBOX_DEFAULT_STYLE&lt;/property&gt;
-		  &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkButton&quot; id=&quot;buttonResetLog&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;can_default&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;label&quot;&gt;gtk-clear&lt;/property&gt;
+	      &lt;property name=&quot;use_stock&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+	      &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;response_id&quot;&gt;0&lt;/property&gt;
+	      &lt;signal name=&quot;clicked&quot; handler=&quot;on_buttonResetLog_clicked&quot; last_modification_time=&quot;Fri, 30 Dec 2005 19:38:03 GMT&quot;/&gt;
+	    &lt;/widget&gt;
+	  &lt;/child&gt;
 
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkButton&quot; id=&quot;buttonResetLog&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;can_default&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;label&quot;&gt;gtk-clear&lt;/property&gt;
-		      &lt;property name=&quot;use_stock&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-		      &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-		      &lt;signal name=&quot;clicked&quot; handler=&quot;on_buttonResetLog_clicked&quot; last_modification_time=&quot;Tue, 27 Dec 2005 20:19:49 GMT&quot;/&gt;
-		    &lt;/widget&gt;
-		  &lt;/child&gt;
-		&lt;/widget&gt;
-		&lt;packing&gt;
-		  &lt;property name=&quot;padding&quot;&gt;5&lt;/property&gt;
-		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-		&lt;/packing&gt;
-	      &lt;/child&gt;
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkButton&quot; id=&quot;logdialog_closebutton&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;can_default&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;label&quot;&gt;gtk-close&lt;/property&gt;
+	      &lt;property name=&quot;use_stock&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
+	      &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;response_id&quot;&gt;-7&lt;/property&gt;
+	      &lt;signal name=&quot;clicked&quot; handler=&quot;on_logdialog_closebutton_clicked&quot; last_modification_time=&quot;Fri, 30 Dec 2005 19:37:11 GMT&quot;/&gt;
 	    &lt;/widget&gt;
-	    &lt;packing&gt;
-	      &lt;property name=&quot;tab_expand&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;tab_fill&quot;&gt;True&lt;/property&gt;
-	    &lt;/packing&gt;
 	  &lt;/child&gt;
+	&lt;/widget&gt;
+	&lt;packing&gt;
+	  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+	  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+	  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
+	  &lt;property name=&quot;pack_type&quot;&gt;GTK_PACK_END&lt;/property&gt;
+	&lt;/packing&gt;
+      &lt;/child&gt;
 
+      &lt;child&gt;
+	&lt;widget class=&quot;GtkScrolledWindow&quot; id=&quot;scrolledwindow2&quot;&gt;
+	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+	  &lt;property name=&quot;hscrollbar_policy&quot;&gt;GTK_POLICY_ALWAYS&lt;/property&gt;
+	  &lt;property name=&quot;vscrollbar_policy&quot;&gt;GTK_POLICY_ALWAYS&lt;/property&gt;
+	  &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_IN&lt;/property&gt;
+	  &lt;property name=&quot;window_placement&quot;&gt;GTK_CORNER_TOP_LEFT&lt;/property&gt;
+
 	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkLabel&quot; id=&quot;label27&quot;&gt;
+	    &lt;widget class=&quot;GtkTreeView&quot; id=&quot;treeviewLogMessages&quot;&gt;
 	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Log messages&lt;/property&gt;
-	      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-	      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-	      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-	      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-	      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-	      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-	      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-	      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
+	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;headers_visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;rules_hint&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;reorderable&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;enable_search&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;fixed_height_mode&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;hover_selection&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;hover_expand&quot;&gt;False&lt;/property&gt;
 	    &lt;/widget&gt;
-	    &lt;packing&gt;
-	      &lt;property name=&quot;type&quot;&gt;tab&lt;/property&gt;
-	    &lt;/packing&gt;
 	  &lt;/child&gt;
 	&lt;/widget&gt;
 	&lt;packing&gt;

Modified: trunk/src/torapplet0.py.in
===================================================================
--- trunk/src/torapplet0.py.in	2005-12-27 21:13:09 UTC (rev 3)
+++ trunk/src/torapplet0.py.in	2005-12-30 20:24:58 UTC (rev 4)
@@ -60,6 +60,7 @@
 import gettext
 _ = gettext.gettext
 import locale
+from time import strftime
 
 import TorApplet0.TorMonitor as TorMonitor
 from TorApplet0.TorStartStop import *
@@ -105,6 +106,8 @@
 		&lt;menuitem name=&quot;ItemStop&quot;    verb=&quot;StopTor&quot;    label=&quot;%s&quot; /&gt;
 		&lt;menuitem name=&quot;ItemRestart&quot; verb=&quot;RestartTor&quot; label=&quot;%s&quot; /&gt;
 		&lt;separator /&gt;
+		&lt;menuitem name=&quot;ItemLogMsg&quot;  verb=&quot;DisplayLog&quot; label=&quot;%s&quot; /&gt;
+		&lt;separator /&gt;
 		&lt;menuitem name=&quot;ItemProps&quot; verb=&quot;Props&quot; label=&quot;%s&quot;
 			  pixtype=&quot;stock&quot; pixname=&quot;gtk-properties&quot; /&gt;
 		&lt;menuitem name=&quot;ItemAbout&quot; verb=&quot;About&quot; label=&quot;%s&quot;
@@ -112,6 +115,7 @@
 		&lt;/popup&gt;&quot;&quot;&quot; % ( _(&quot;_Start Tor&quot;),
 				_(&quot;S_top Tor&quot;),
 				_(&quot;_Restart Tor&quot;),
+				_(&quot;Log messages&quot;),
 				_(&quot;_Properties&quot;),
 				_(&quot;_About...&quot;))
 
@@ -119,7 +123,8 @@
 				 (&quot;Props&quot;,      self.properties),
 				 (&quot;StartTor&quot;,   self.start_tor),
 				 (&quot;StopTor&quot;,    self.stop_tor),
-				 (&quot;RestartTor&quot;, self.restart_tor) ]
+				 (&quot;RestartTor&quot;, self.restart_tor),
+				 (&quot;DisplayLog&quot;, self.display_log) ]
 
 		#GTK stuff
 		self.__applet = applet
@@ -140,6 +145,8 @@
 		self.__gladeui = gtk.glade.XML (GLADEFILE)
 		self.__propsdialog = self.__gladeui.get_widget \
 			('TorPropertiesDialog')
+		self.__logdialog = self.__gladeui.get_widget   \
+			('LogMessagesDialog')
 			
 		self.__dialoglogo = self.__gladeui.get_widget ('logo')
 		self.__notebook = self.__gladeui.get_widget ('notebook1')
@@ -181,28 +188,37 @@
 		self.__treeviewLogMessages = self.__gladeui.get_widget	\
 			('treeviewLogMessages')
 
-		self.__logMessagesList = gtk.ListStore (str, str)
-		tvcolumn0 = gtk.TreeViewColumn(&quot;Level&quot;)
-		tvcolumn1 = gtk.TreeViewColumn(&quot;Message&quot;)
-		tvcolumn0.cell = gtk.CellRendererText()
-		tvcolumn1.cell = gtk.CellRendererText()
-		tvcolumn0.pack_start (tvcolumn0.cell,True)
-		tvcolumn1.pack_start (tvcolumn1.cell,True)
-		tvcolumn0.set_attributes (tvcolumn0.cell, text=0)
-		tvcolumn1.set_attributes (tvcolumn1.cell, text=1)
+		self.__logMessagesList = gtk.ListStore (str, str, str)
+		tvcolumn0 = gtk.TreeViewColumn (_(&quot;Level&quot;))
+		tvcolumn1 = gtk.TreeViewColumn (_(&quot;Message&quot;))
+		tvcolumn2 = gtk.TreeViewColumn (_(&quot;Time&quot;))
+		cell0 = gtk.CellRendererPixbuf ()
+		cell1 = gtk.CellRendererText ()
+		cell2 = gtk.CellRendererText ()
+		tvcolumn0.pack_start (cell0, False)
+		tvcolumn2.pack_start (cell2, False)
+		tvcolumn1.pack_start (cell1, True)
+		tvcolumn0.set_attributes (cell0, stock_id=0)
+		tvcolumn1.set_attributes (cell1, text=1)
+		tvcolumn2.set_attributes (cell2, text=2)
 		self.__treeviewLogMessages.append_column (tvcolumn0)
+		self.__treeviewLogMessages.append_column (tvcolumn2)
 		self.__treeviewLogMessages.append_column (tvcolumn1)
 		self.__treeviewLogMessages.set_model (self.__logMessagesList)
 			
 		self.__dialoglogo.set_from_file (self.__pixmaps['TorLogo'])	
 		self.__dialogevents = {
-			'on_TorPropertiesDialog_delete_event': 		    \
-				self.__on_TorPropertiesDialog_delete_event, \
-			'on_closebutton1_clicked': 			    \
-				self.__on_closebutton1_clicked, 	    \
-			'on_buttonTorResolve_clicked': 		   	    \
-				self.__on_buttonTorResolve_clicked, 	    \
-			'on_buttonResetLog_clicked':			    \
+			'on_TorPropertiesDialog_delete_event': 		\
+				self.__on_Dialog_delete_event, 		\
+			'on_LogMessagesDialog_delete_event':		\
+				self.__on_Dialog_delete_event,		\
+			'on_closebutton1_clicked': 			\
+				self.__on_closebutton1_clicked, 	\
+			'on_logdialog_closebutton_clicked':		\
+				self.__on_logdialog_close_clicked,	\
+			'on_buttonTorResolve_clicked': 		   	\
+				self.__on_buttonTorResolve_clicked, 	\
+			'on_buttonResetLog_clicked':			\
 				self.__on_buttonResetLog_clicked
 			}
 
@@ -341,8 +357,16 @@
 			self.__lblErrorsCount.set_text \
 				(str (self.__monitor.errorsCount))
 			log_level = str (notification.data[0])
+			if log_level == 'WARN_MSG':
+				log_level_icon = gtk.STOCK_DIALOG_WARNING
+			elif log_level == 'ERR_MSG':
+				log_level_icon = gtk.STOCK_DIALOG_ERROR
+			else:
+				log_level_icon = gtk.STOCK_INFO
+
 			log_message = str (notification.data[1]).strip()
-			self.__logMessagesList.append ((log_level, log_message))
+			self.__logMessagesList.prepend ((log_level_icon, \
+				log_message, strftime (&quot;%x %X&quot;)))
 
 		elif notification.name == &quot;ResetCounters&quot;:
 			self.__resetLabels ()
@@ -368,13 +392,19 @@
 		self.__notebook.set_current_page (0)
 		self.__propsdialog.show_all ()
 		
-	def __on_TorPropertiesDialog_delete_event (self, widget, data=None):
+	def __on_Dialog_delete_event (self, widget, data=None):
 		widget.hide ()
 		return True
-
+		
+	def display_log (self, event, data=None):
+		self.__logdialog.show_all ()
+		
 	def __on_closebutton1_clicked (self, widget, data=None):
 		self.__propsdialog.hide ()
-	
+		
+	def __on_logdialog_close_clicked (self, widget, data=None):
+		self.__logdialog.hide ()
+		
 	def __on_buttonResetLog_clicked (self, widget, data=None):
 		self.__logMessagesList.clear()
 	


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000004.html">[Torapplet-svn] r3 - in trunk: . po src
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5">[ date ]</a>
              <a href="thread.html#5">[ thread ]</a>
              <a href="subject.html#5">[ subject ]</a>
              <a href="author.html#5">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/torapplet-svn">More information about the Torapplet-svn
mailing list</a><br>
</body></html>
